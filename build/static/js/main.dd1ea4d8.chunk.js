(this.webpackJsonpweb=this.webpackJsonpweb||[]).push([[0],{105:function(e,a,t){},106:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),o=t(22),c=t.n(o),l=t(27),i=t(4),s=(t(76),t(6)),u=(t(77),t(56)),d=t.n(u),m=t(120),p=function(){return r.a.createElement("div",null,r.a.createElement(m.a,{bg:"light",className:"navbarPET"},r.a.createElement(m.a.Brand,null,r.a.createElement("img",{src:d.a,alt:"logo"})),r.a.createElement(m.a.Collapse,{className:"justify-content-start"},r.a.createElement(m.a.Text,{className:"navtext"},"Estat\xedsticas de Disciplinas"))))},f=t(122),v=(t(80),function(){return r.a.createElement("div",null,r.a.createElement(m.a,{className:"menu",collapseOnSelect:!0,expand:"sm"},r.a.createElement(m.a.Toggle,{"aria-controls":"responsive-navbar-nav"}),r.a.createElement(m.a.Collapse,{id:"responsive-navbar-nav"},r.a.createElement(f.a,{className:"mr-auto"},r.a.createElement(l.b,{className:"menutext",to:"/"},"Per\xedodos"," "),r.a.createElement(l.b,{className:"menutext",to:"/departamentos"},"Departamentos"," "),r.a.createElement(l.b,{className:"menutext",to:"/nome"},"Nome")))))}),E=t(12),b=t.n(E),g=t(21),h=t(123);t(40);function _(e){var a=e.substring(0,3);return"INF"===a?"Departamento de Inform\xe1tica":"MAT"===a?"Departamento de Matem\xe1tica":"ELE"===a?"Departamento de Engenharia El\xe9trica":"FIS"===a?"Departamento de F\xedsica":"MCA"===a?"Departamento de Engenharia Mec\xe2nica":"QUI"===a?"Departamento de Qu\xedmica":"STA"===a?"Departamento de Estat\xedstica":"DEA"===a?"Departamento de Engenharia Ambiental":"EPR"===a?"Departamento de Engenharia de Produ\xe7\xe3o":"Departamento"}var j=t(61),x=t.n(j).a.create({baseURL:"https://apiestatisticas.pet.inf.ufes.br/"}),N=function(e){var a=e.selectSubject,t=Object(n.useState)([]),o=Object(s.a)(t,2),c=o[0],l=o[1];Object(n.useEffect)((function(){(function(){var e=Object(g.a)(b.a.mark((function e(){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x.get("/viewSortedGrid").then((function(e){var a=e.data.ecomp.map((function(e){return e})),t=[];a.forEach((function(e){e.disciplinas.forEach((function(e){t.push(e)}))})),t.sort((function(e,a){var t=e.codigo.toUpperCase(),n=a.codigo.toUpperCase(),r=0;return t>n?r=1:t<n&&(r=-1),r}));var n=[],r=[];t.forEach((function(e){var a=e.codigo.substring(0,3),t=n.indexOf(a);if(t>=0)r[t].disciplina.push(e);else{n.push(a);var o={departamentName:e.codigo,disciplina:[e]};r.push(o)}})),l(r)}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]),console.log(c);var i=function(e){a(e.target.text,e.target.id)};return r.a.createElement("div",null,c.map((function(e,a){return r.a.createElement(h.a,{key:a},r.a.createElement("div",null,r.a.createElement(h.a.Header,null,_(e.departamentName)),r.a.createElement("ul",{className:"list-group"},e.disciplina.map((function(e,a){return r.a.createElement("li",{key:a,className:"list-group-item py-1 border-0"},r.a.createElement("div",null,r.a.createElement("a",{onClick:i,href:"#",id:e.codigo},e.nome)))})))))})))},O=t(62),S=t(118),y=t(121),w=t(67);function C(e){var a=[],t=[];return e.data.forEach((function(e){var n=a.indexOf(e.periodo),r=e.aprovados+e.reprovados_por_nota+e.reprovados_por_frequencia;if(n>=0)t[n].aprovados+=e.aprovados,t[n].reprovados_por_nota+=e.reprovados_por_nota,t[n].reprovados_por_frequencia+=e.reprovados_por_frequencia,t[n].alunos+=r,t[n].alunosxmedia+=r*e.media,t[n].alunos_di+=e.alunos_di,t[n].alunosxmedia_di+=e.alunos_di*e.media_di;else if(a.push(e.periodo),r>0){var o={periodo:e.periodo,aprovados:e.aprovados,reprovados_por_nota:e.reprovados_por_nota,reprovados_por_frequencia:e.reprovados_por_frequencia,alunosxmedia:r*e.media,media:0,alunos:r,alunos_di:e.alunos_di,alunosxmedia_di:e.alunos_di*e.media_di};t.push(o)}})),t.forEach((function(e){e.media_di=e.alunosxmedia_di/e.alunos_di,e.media=e.alunosxmedia/e.alunos,e.porcentagem_aprovados=e.aprovados/e.alunos,e.porcentagem_reprovados_por_nota=e.reprovados_por_nota/e.alunos,e.porcentagem_reprovados_por_frequencia=e.reprovados_por_frequencia/e.alunos,console.log(e.alunos)})),t}function k(e){var a=e<10?6:5,t=e<10?3:2;return{chartArea:{height:"70%",width:"80%"},isStacked:!0,colors:["#3366cc","#dc3912","#ff9900"],title:"Aprova\xe7\xf5es e Reprova\xe7\xf5es",legend:"top",backgroundColor:"#f5f5f5",bar:{groupWidth:e<12?"30%":"35%"},vAxes:{0:{viewWindow:{max:100}},1:{viewWindow:{max:10}}},series:{0:{targetAxisIndex:0},1:{targetAxisIndex:0},2:{targetAxisIndex:0},3:{targetAxisIndex:1,type:"line",color:"#00c4cb",pointSize:a,lineWidth:t},4:{targetAxisIndex:1,type:"line",color:"#9100e4",pointSize:a,lineWidth:t}}}}t(105);var A=function(e){var a=e.selectedSubject,t=e.selectedSubjectCode,o=Object(n.useState)([0,1]),c=Object(s.a)(o,2),l=c[0],i=c[1],u=Object(n.useState)([[]]),d=Object(s.a)(u,2),m=d[0],p=d[1],f=Object(n.useState)([]),v=Object(s.a)(f,2),E=v[0],h=v[1],j=Object(n.useState)(!1),N=Object(s.a)(j,2),A=N[0],D=N[1],I=Object(n.useState)(""),q=Object(s.a)(I,2),T=q[0],M=q[1];Object(n.useEffect)((function(){(function(){var e=Object(g.a)(b.a.mark((function e(){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x.get("/items/".concat(t)).then((function(e){var a=C(e),n=a.map((function(e){return e.periodo&&null!=e.porcentagem_aprovados&&null!=e.porcentagem_reprovados_por_nota&&null!=e.porcentagem_reprovados_por_frequencia?[e.periodo,Number((100*e.porcentagem_aprovados).toFixed(2)),Number((100*e.porcentagem_reprovados_por_nota).toFixed(2)),Number((100*e.porcentagem_reprovados_por_frequencia).toFixed(2)),Number(e.media),Number(e.media_di)]:null}));h(n),i([0,a.length-1]),n.unshift(["Per\xedodo","Aprovados","Reprovado por nota","Reprovado por falta","M\xe9dia CT","M\xe9dia DI"]),p(n),n.length>1?(D(!0),M(_(t))):(D(!1),t&&alert("N\xe3o temos informa\xe7\xf5es dessa disciplina"))}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[t]);return r.a.createElement("div",{className:"sticky-top py-5"},A?r.a.createElement("div",{className:"chart-container py-5"},r.a.createElement("div",{className:"d-flex title-subtitle"},r.a.createElement("div",{className:"pb-3"},r.a.createElement("h2",{className:"chart-title"},"".concat(a," - ").concat(t)),r.a.createElement("p",{style:{color:"gray"}},T)),r.a.createElement("div",{className:"ml-auto x-icon"},r.a.createElement(w.a,{color:"gray",size:40,onClick:function(){return D(!1)}}))),r.a.createElement("div",{className:"d-flex chart"},r.a.createElement(O.a,{width:"99%",height:450,chartType:"ColumnChart",loader:r.a.createElement("div",null,"Carregando"),data:m,options:k(m.length)})),r.a.createElement("div",{className:"d-flex justify-content-center py-1"},r.a.createElement("div",{style:{width:"60%"}},r.a.createElement(S.a,{id:"range-slider",gutterBottom:!0}),r.a.createElement(y.a,{value:l,min:0,max:E.length-2,step:1,valueLabelDisplay:"auto",onChange:function(e,a){i(a);var t=E.slice(a[0]+1,a[1]+2);t.unshift(["Per\xedodo","Aprovados","Reprovado por nota","Reprovado por falta","M\xe9dia CT","M\xe9dia DI"]),p(t)},"aria-labelledby":"range-slider",getAriaValueText:function(e){return E[e]?"".concat(E[e+1][0]):null}})))):r.a.createElement(r.a.Fragment,null))};var D=function(){var e=Object(n.useState)(),a=Object(s.a)(e,2),t=a[0],o=a[1],c=Object(n.useState)(),l=Object(s.a)(c,2),i=l[0],u=l[1];return r.a.createElement("div",null,r.a.createElement(p,null),r.a.createElement(v,null),r.a.createElement("div",{className:"container-fluid"},r.a.createElement("div",{className:"row py-5"},r.a.createElement("div",{className:"col-lg-5"},r.a.createElement(N,{selectSubject:function(e,a){u(e),o(a)}})),r.a.createElement("div",{className:"col-lg-7"},r.a.createElement(A,{selectedSubject:i,selectedSubjectCode:t})))))},I=function(e){var a=e.selectSubject,t=Object(n.useState)([]),o=Object(s.a)(t,2),c=o[0],l=o[1];Object(n.useEffect)((function(){(function(){var e=Object(g.a)(b.a.mark((function e(){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x.get("/viewSortedGrid").then((function(e){var a=e.data.ecomp.map((function(e){return e})),t=[];a.forEach((function(e){e.disciplinas.forEach((function(e){t.push(e)}))})),t.sort((function(e,a){var t=e.nome.toUpperCase(),n=a.nome.toUpperCase(),r=0;return t>n?r=1:t<n&&(r=-1),r})),l(t)}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]),console.log(c);var i=function(e){a(e.target.text,e.target.id),console.log(e)};return r.a.createElement("div",null,r.a.createElement(h.a,null,r.a.createElement("div",null,r.a.createElement(h.a.Header,null,"Nome"),r.a.createElement("ul",{className:"list-group"},c.map((function(e,a){return r.a.createElement("li",{key:a,className:"list-group-item py-1 border-0"},r.a.createElement("div",null,r.a.createElement("a",{onClick:i,href:"#",id:e.codigo},e.nome)))}))))))};var q=function(){var e=Object(n.useState)(),a=Object(s.a)(e,2),t=a[0],o=a[1],c=Object(n.useState)(),l=Object(s.a)(c,2),i=l[0],u=l[1];return r.a.createElement("div",null,r.a.createElement(p,null),r.a.createElement(v,null),r.a.createElement("div",{className:"container-fluid"},r.a.createElement("div",{className:"row py-5"},r.a.createElement("div",{className:"col-lg-5"},r.a.createElement(I,{selectSubject:function(e,a){u(e),o(a)}})),r.a.createElement("div",{className:"col-lg-7"},r.a.createElement(A,{selectedSubject:i,selectedSubjectCode:t})))))},T=function(e){var a=e.selectSubject,t=Object(n.useState)([[]]),o=Object(s.a)(t,2),c=o[0],l=o[1];Object(n.useEffect)((function(){(function(){var e=Object(g.a)(b.a.mark((function e(){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x.get("/viewSortedGrid").then((function(e){l(e.data.ecomp.map((function(e){return e.disciplinas})))}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]),console.log(c);var i=function(e){a(e.target.text,e.target.id)};return r.a.createElement("div",null,c.map((function(e,a){return r.a.createElement(h.a,{key:a},r.a.createElement("div",null,r.a.createElement(h.a.Header,null,a+1<11?"".concat(a+1,"\xba Per\xedodo"):"Optativas"),r.a.createElement("ul",{className:"list-group"},e.map((function(e,a){return r.a.createElement("li",{key:a,className:"list-group-item py-1 border-0"},r.a.createElement("div",null,r.a.createElement("a",{onClick:i,href:"#",id:e.codigo},e.nome)))})))))})))};var M=function(){var e=Object(n.useState)(),a=Object(s.a)(e,2),t=a[0],o=a[1],c=Object(n.useState)(),l=Object(s.a)(c,2),i=l[0],u=l[1];return r.a.createElement("div",null,r.a.createElement(p,null),r.a.createElement(v,null),r.a.createElement("div",{className:"container-fluid"},r.a.createElement("div",{className:"row py-5"},r.a.createElement("div",{className:"col-lg-5"},r.a.createElement(T,{selectSubject:function(e,a){u(e),o(a)}})),r.a.createElement("div",{className:"col-lg-7"},r.a.createElement(A,{selectedSubject:i,selectedSubjectCode:t})))))};c.a.render(r.a.createElement(l.a,null,r.a.createElement(i.c,null,r.a.createElement(i.a,{path:"/",exact:!0,component:M}),r.a.createElement(i.a,{path:"/departamentos",component:D}),r.a.createElement(i.a,{path:"/nome",component:q}))),document.getElementById("root"))},40:function(e,a,t){},56:function(e,a,t){e.exports=t.p+"static/media/icone_pet.2700b4e2.svg"},71:function(e,a,t){e.exports=t(106)},77:function(e,a,t){},80:function(e,a,t){}},[[71,1,2]]]);
//# sourceMappingURL=main.dd1ea4d8.chunk.js.map